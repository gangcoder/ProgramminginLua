<html>

<head>
  <title>4.4 break和return语句 - Lua程序设计</title>
  <meta http-equiv=Content-Type content="text/html; charset=UTF-8">
  <meta name="GENERATOR" content="Macrobject Word-2-CHM">
  <link rel="stylesheet" href="Word2Chm.css" type="text/css">
  <link rel="stylesheet" href="default.css" type="text/css" />
</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td class="moHeader">&nbsp;4.4 break和return语句</td>
    </tr>
  </table>
  
  <p></p>

<div class=Section1 style='layout-grid:15.6pt'>



<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>break</span><span
style='font-family:宋体'>语句用来退出当前循环（</span><span lang=EN-US>for</span><span
style='font-family:宋体'>、</span><span lang=EN-US>repeat</span><span
style='font-family:宋体'>、</span><span lang=EN-US>while</span><span
style='font-family:宋体'>）。在循环外部不可以使用。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>return</span><span
style='font-family:宋体'>用来从函数返回结果，当一个函数自然结束时，结尾会有一个默认的</span><span lang=EN-US>return</span><span
style='font-family:宋体'>。（这种函数类似</span><span lang=EN-US>pascal</span><span
style='font-family:宋体'>的过程（</span><span lang=EN-US>procedure</span><span
style='font-family:宋体'>））</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>Lua</span><span
style='font-family:宋体'>语法要求</span><span lang=EN-US>break</span><span
style='font-family:宋体'>和</span><span lang=EN-US>return</span><span
style='font-family:宋体'>只能出现在</span><span lang=EN-US>block</span><span
style='font-family:宋体'>的结尾一句（也就是说：作为</span><span lang=EN-US>chunk</span><span
style='font-family:宋体'>的最后一句，或者在</span><span lang=EN-US>end</span><span
style='font-family:宋体'>之前，或者</span><span lang=EN-US>else</span><span
style='font-family:宋体'>前，或者</span><span lang=EN-US>until</span><span
style='font-family:宋体'>前），例如：</span></p>

<div style='border:RGB(254,192,196) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(250,222,249)'><span
lang=EN-US style='color:blue'>local</span><span lang=EN-US> i = 1</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US style='color:blue'>while</span><span lang=EN-US> a[i] <span
style='color:blue'>do</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(243,221,250)'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; <span style='color:blue'>if</span> a[i] == v <span
style='color:blue'>then</span> <span style='color:blue'>break</span> <span
style='color:blue'>end</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; i = i + 1</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(237,232,245)'><span
lang=EN-US style='color:blue'>end</span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>有时候为了调试或者其他目的需要在</span><span
lang=EN-US>block</span><span style='font-family:宋体'>的中间使用</span><span
lang=EN-US>return</span><span style='font-family:宋体'>或者</span><span lang=EN-US>break</span><span
style='font-family:宋体'>，可以显式的使用</span><span lang=EN-US>do..end</span><span
style='font-family:宋体'>来实现：</span></p>

<div style='border:RGB(254,192,196) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(252,235,226)'><span
lang=EN-US style='color:blue'>function</span><span lang=EN-US> foo ()</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; <span style='color:blue'>return</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&lt;&lt; SYNTAX ERROR</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(233,232,252)'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; <span style='color:green'>-- 'return' is the last
statement in the next block</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; <span style='color:blue'>do</span> <span
style='color:blue'>return</span> <span style='color:blue'>end</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>-- OK</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(255,254,247)'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>-- statements not reached</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US style='color:blue'>end</span></p>

</div>

<p class=MsoNormal style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:10.5pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=Section12 style='layout-grid:15.6pt 0pt'>


</div>
  <p></p>
  <hr class="moHR" />
  <span class="moCopyright">
    相关链接：
<br /><a href="_3.htm">lua程序设计目录</a> - <a href="http://www.luaer.cn">中国lua开发者</a> - <a href="http://bbs.luaer.cn">lua论坛</a> 
  </span><div id="bookfoot"></div>
<script language="JavaScript" src="js/ad.js"></script>
</body>

</html>

