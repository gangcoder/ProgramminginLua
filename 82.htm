<html>

<head>
  <title>13.4.2 The __newindex Metamethod  - Lua程序设计</title>
  <meta http-equiv=Content-Type content="text/html; charset=UTF-8">
  <meta name="GENERATOR" content="Macrobject Word-2-CHM">
  <link rel="stylesheet" href="Word2Chm.css" type="text/css">
  <link rel="stylesheet" href="default.css" type="text/css" />
</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td class="moHeader">&nbsp;13.4.2 The __newindex Metamethod </td>
    </tr>
  </table>
  
  <p></p>

<div class=Section1 style='layout-grid:15.6pt'>



<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>__newindex
metamethod</span><span style='font-family:宋体'>用来对表更新，</span><span lang=EN-US>__index</span><span
style='font-family:宋体'>则用来对表访问。当你给表的一个缺少的域赋值，解释器就会查找</span><span lang=EN-US>__newindex
metamethod</span><span style='font-family:宋体'>：如果存在则调用这个函数而不进行赋值操作。像</span><span
lang=EN-US>__index</span><span style='font-family:宋体'>一样，如果</span><span
lang=EN-US>metamethod</span><span style='font-family:宋体'>是一个表，解释器对指定的那个表，而不是原始的表进行赋值操作。另外，有一个</span><span
lang=EN-US>raw</span><span style='font-family:宋体'>函数可以绕过</span><span
lang=EN-US>metamethod</span><span style='font-family:宋体'>：调用</span><span
lang=EN-US>rawset(t,k,v)</span><span style='font-family:宋体'>不掉用任何</span><span
lang=EN-US>metamethod</span><span style='font-family:宋体'>对表</span><span
lang=EN-US>t</span><span style='font-family:宋体'>的</span><span lang=EN-US>k</span><span
style='font-family:宋体'>域赋值为</span><span lang=EN-US>v</span><span
style='font-family:宋体'>。</span><span lang=EN-US>__index</span><span
style='font-family:宋体'>和</span><span lang=EN-US>__newindex metamethods</span><span
style='font-family:宋体'>的混合使用提供了强大的结构：从只读表到面向对象编程的带有继承默认值的表。在这一张的剩余部分我们看一些这些应用的例子，面向对象的编程在另外的章节介绍。</span></p>


</div>
  <p></p>
  <hr class="moHR" />
  <span class="moCopyright">
    相关链接：
<br /><a href=3.htm>lua程序设计目录</a> - <a href="http://www.luaer.cn">中国lua开发者</a> - <a href="http://bbs.luaer.cn">lua论坛</a> 
  </span><div id="bookfoot"></div>
<script language="JavaScript" src="js/ad.js"></script>
</body>

</html>

