<html>

<head>
  <title>11.1 数组 - Lua程序设计</title>
  <meta http-equiv=Content-Type content="text/html; charset=UTF-8">
  <meta name="GENERATOR" content="Macrobject Word-2-CHM">
  <link rel="stylesheet" href="Word2Chm.css" type="text/css">
  <link rel="stylesheet" href="default.css" type="text/css" />
</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td class="moHeader">&nbsp;11.1 数组</td>
    </tr>
  </table>
  
  <p></p>

<div class=Section1 style='layout-grid:15.6pt'>



<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>在</span><span
lang=EN-US>lua</span><span style='font-family:宋体'>中通过整数下标访问</span><span
lang=EN-US>table</span><span style='font-family:宋体'>中元素，即是数组。并且数组大小不固定，可动态增长。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>通常我们初始化数组时，就间接地定义了数组的大小，例如：</span></p>

<div style='border:RGB(149,127,135) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(238,222,222)'><span
lang=EN-US>a = {}&nbsp;&nbsp;&nbsp;&nbsp; <span style='color:green'>-- new
array</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US style='color:blue'>for</span><span lang=EN-US> i=1, 1000 <span
style='color:blue'>do</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(229,240,230)'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; a[i] = 0</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US style='color:blue'>end</span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>数组</span><span
lang=EN-US>a</span><span style='font-family:宋体'>的大小为</span><span lang=EN-US>1000</span><span
style='font-family:宋体'>，访问</span><span lang=EN-US>1-1000</span><span
style='font-family:宋体'>范围外的值，将返回</span><span lang=EN-US>nil</span><span
style='font-family:宋体'>。数组下标可以根据需要，从任意值开始，比如：</span></p>

<div style='border:RGB(149,127,135) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:RGB(242,223,248);margin-left:21.0pt;margin-right:21.0pt'>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US style='color:green'>-- creates an array with indices from -5 to 5</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(231,233,250)'><span
lang=EN-US>a = {}</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US style='color:blue'>for</span><span lang=EN-US> i=-5, 5 <span
style='color:blue'>do</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(225,247,222)'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; a[i] = 0</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US style='color:blue'>end</span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>然而习惯上，</span><span
lang=EN-US>Lua</span><span style='font-family:宋体'>的下标从</span><span lang=EN-US>1</span><span
style='font-family:宋体'>开始。</span><span lang=EN-US>Lua</span><span
style='font-family:宋体'>的标准库遵循此惯例，因此你的数组下标必须也是从</span><span lang=EN-US>1</span><span
style='font-family:宋体'>开始，才可以使用标准库的函数。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>我们可以用构造器在创建数组的同时初始化数组：</span></p>

<div style='border:RGB(149,127,135) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:RGB(251,223,245);margin-left:21.0pt;margin-right:21.0pt'>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>squares = {1, 4, 9, 16, 25, 36, 49, 64, 81}</span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>这样的语句中，数组的大小可以任意的大。</span></p>


</div>
  <p></p>
  <hr class="moHR" />
  <span class="moCopyright">
    相关链接：
<br /><a href="_3.htm">lua程序设计目录</a> - <a href="http://www.luaer.cn">中国lua开发者</a> - <a href="http://bbs.luaer.cn">lua论坛</a> 
  </span><div id="bookfoot"></div>
<script language="JavaScript" src="js/ad.js"></script>
</body>

</html>

