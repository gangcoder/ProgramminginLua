<html>

<head>
  <title> 第2章 类型和值 - Lua程序设计</title>
  <meta http-equiv=Content-Type content="text/html; charset=UTF-8">
  <meta name="GENERATOR" content="Macrobject Word-2-CHM">
  <link rel="stylesheet" href="Word2Chm.css" type="text/css">
  <link rel="stylesheet" href="default.css" type="text/css" />
</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td class="moHeader">&nbsp;第2章 类型和值</td>
    </tr>
  </table>
  
  <p></p>

<div class=Section1 style='layout-grid:15.6pt'>



<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>Lua</span><span
style='font-family:宋体'>是动态类型语言，变量不要类型定义。</span><span lang=EN-US>Lua</span><span
style='font-family:宋体'>中有</span><span lang=EN-US>8</span><span
style='font-family:宋体'>个基本类型分别为：</span><span lang=EN-US>nil</span><span
style='font-family:宋体'>、</span><span lang=EN-US>boolean</span><span
style='font-family:宋体'>、</span><span lang=EN-US>number</span><span
style='font-family:宋体'>、</span><span lang=EN-US>string</span><span
style='font-family:宋体'>、</span><span lang=EN-US>userdata</span><span
style='font-family:宋体'>、</span><span lang=EN-US>function</span><span
style='font-family:宋体'>、</span><span lang=EN-US>thread</span><span
style='font-family:宋体'>和</span><span lang=EN-US>table</span><span
style='font-family:宋体'>。函数</span><span lang=EN-US>type</span><span
style='font-family:宋体'>可以测试给定变量或者值的类型。</span></p>

<div style='border:RGB(97,45,80) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(227,226,228)'><span
lang=EN-US>print(type(<span style='color:red'>&quot;Hello world&quot;</span>))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; string</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>print(type(10.4*3))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; number</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(247,242,232)'><span
lang=EN-US>print(type(print))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; function</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>print(type(type))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; function</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(253,234,239)'><span
lang=EN-US>print(type(<span style='color:blue'>true</span>))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; boolean</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>print(type(<span style='color:blue'>nil</span>))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; nil</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(233,234,235)'><span
lang=EN-US>print(type(type(X)))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; string</span></span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>变量没有预定义的类型，每一个变量都可能包含任一种类型的值。</span></p>

<div style='border:RGB(97,45,80) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(249,227,227)'><span
lang=EN-US>print(type(a))&nbsp;&nbsp;&nbsp; <span style='color:green'>--&gt;
nil&nbsp;&nbsp; ('a' is not initialized)</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>a = 10</span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(239,249,231)'><span
lang=EN-US>print(type(a))&nbsp;&nbsp;&nbsp; <span style='color:green'>--&gt;
number</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>a = <span style='color:red'>&quot;a string!!&quot;</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(236,220,233)'><span
lang=EN-US>print(type(a))&nbsp;&nbsp;&nbsp; <span style='color:green'>--&gt;
string</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span
lang=EN-US>a = print&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>-- yes, this is valid!</span></span></p>

<p class=AltD style='margin:0cm;margin-bottom:.0001pt;background:RGB(243,247,238)'><span
lang=EN-US>a(type(a))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:green'>--&gt; function</span></span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>注意上面最后两行，我们可以使用</span><span
lang=EN-US>function</span><span style='font-family:宋体'>像使用其他值一样使用（更多的介绍参考第六章）。一般情况下同一变量代表不同类型的值会造成混乱，最好不要用，但是特殊情况下可以带来便利，比如</span><span
lang=EN-US>nil</span><span style='font-family:宋体'>。</span></p>


</div>
  <p></p>
  <hr class="moHR" />
  <span class="moCopyright">
    相关链接：
<br /><a href="_3.htm">lua程序设计目录</a> - <a href="http://www.luaer.cn">中国lua开发者</a> - <a href="http://bbs.luaer.cn">lua论坛</a> 
  </span><div id="bookfoot"></div>
<script language="JavaScript" src="js/ad.js"></script>
</body>

</html>

